<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>BSD sockets - Sistema de Videovigilancia from Scratch</title>
    <meta name="description" content="">
    <meta name="author" content="Jesús Torres">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="./theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="./theme/bootstrap.min.css" rel="stylesheet">
    <link href="./theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="./theme/local.css" rel="stylesheet">
    <link href="./theme/pygments.css" rel="stylesheet">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href=".">Sistema de Videovigilancia from Scratch</a>

        <div class="nav-collapse">
        <ul class="nav">
                    
                            <li><a href="./pages/acerca-de.html">Acerca de...</a></li>
                    <li><a href="./pages/seminarios.html">Seminarios</a></li>
                        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
            <div class='article'>
        <div class="content-title">
            <h1>BSD sockets</h1>
            sáb 02 marzo 2013

by <a class="url fn" href="./author/jesus-torres.html" rel="author">Jesús Torres</a>
 


        </div>
	
        <div><p><em>POSIX sockets</em> es una parte de la especificación POSIX<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup> que define un API
(Application Programming Interface) para la comunicación entre procesos,
fundamentalmente entre equipos conectados a través de Internet
(<em>socket</em> de Internet), aunque también soporta la conexión local entre procesos
que se ejecutan en el mismo sistema (<a href="http://es.wikipedia.org/wiki/Socket_Unix">socket de dominio UNIX</a>
o <a href="http://es.wikipedia.org/wiki/Socket_Unix">socket UNIX</a>).</p>
<h2>Historia</h2>
<p>La primera implementación ampliamente distribuida de la pila de protocolos
TCP/IP lo fue con el UNIX 4.2BSD, que incluía <em>BSD sockets</em> (o <em>Berkeley sockets</em>)
como API para las comunicaciones entre procesos usando estos protocolos.</p>
<p>Las distintas versiones de BSD incorporaban código del UNIX original de AT&amp;T,
por lo que estaban sujetas a la licencia de software de esta empresa. La
licencias de código fuente se estaban volviendo muy costosas, por lo que muchas
empresas y organizaciones comenzaron a interesarse en la liberación independiente
del código de red, que había sido desarrollado enteramente al margen de AT&amp;T,
por lo que no tenía que estar sujeto a los requerimientos de su licencia.</p>
<p>En junio de 1989 este código fue liberado bajo los términos de la licencia
<a href="http://es.wikipedia.org/wiki/Licencia_BSD">BSD</a>. Muchos fabricantes incluyeron
este código directamente en sus propios sistemas, incluso aunque tuvieran sus
propios protocolos propietarios con los que competían entre ellos. Y algunas
compañías comenzaron a usarlo para vender pilas de protocolo TCP/IP para
Windows, hasta que Microsoft incluyó la suya propia en Windows 95, también
derivada del código de BSD.</p>
<p>Todo esto alimentó el despegue de TCP/IP como protocolo dominante e impuso
los <em>BSD sockets</em> como API de acceso a la red, de tal forma que hoy en día
todos los sistemas operativos modernos tienen una implementación de <em>BSD
sockets</em>.</p>
<p>El API <em>BSD sockets</em> evolucionó y finalmente fue adoptado en el estándar
POSIX<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup>, donde algunas funciones fueron deprecadas y eliminadas y
reemplazadas por otras. Aun así el API <em>POSIX sockets</em> es básicamente el
<em>BSD sockets</em>.</p>
<p>De la misma manera los sistemas Windows incluyen <a href="http://msdn.microsoft.com/es-es/library/windows/desktop/ms740673(v=vs.85).aspx" title="Windows Sockets API">Winsock</a>, un API de acceso a
la red derivado de <em>BSD sockets</em> que sólo difiere de éste en unos
<a href="http://tangentsoft.net/wskfaq/articles/bsd-compatibility.html">pocos detalles</a></p>
<h2>Funciones del API</h2>
<p>Este es un resumen de las funciones proporcionadas por <em>POSIX sockets</em>:</p>
<dl>
<dt><code>socket()</code></dt>
<dd>Crea un nuevo <em>socket</em>, identificado por un número entero, de cierto tipo y
reserva recursos del sistema para él.</dd>
<dt><code>bind()</code></dt>
<dd>Se usa generalmente en el lado del servidor para asociar un <em>socket</em> con una
dirección de red, por ejemplo una dirección IP y un puerto concretos.</dd>
<dt><code>listen()</code></dt>
<dd>Se usa en el lado del servidor para hacer que un <em>socket</em> TCP entre en modo
de escucha a la espera de nuevas conexiones entrantes.</dd>
<dt><code>connect()</code></dt>
<dd>Se usa en el lado del cliente para asignar un número de puerto libre al
<em>socket</em>. En el caso de <em>sockets</em> TCP, intenta establecer una nueva conexión TCP
con un <em>socket</em> a la escucha en otro puerto y dirección IP.</dd>
<dt><code>accept()</code></dt>
<dd>Se usa en el lado del servidor para aceptar una conexión entrante e intentar
crear una nueva conexión TCP con el cliente remoto. Si tiene éxito, crea un
nuevo socket asociado con esta pareja concreta de direcciones en ambos
extremos de la conexión.</dd>
<dt><code>send()</code> y <code>recv()</code>, <code>write()</code> y <code>read()</code> o <code>sendto()</code> y <code>recvfrom()</code></dt>
<dd>Se usan para enviar y recibir datos hacia y desde el otro extremo de la conexión.</dd>
<dt><code>close()</code></dt>
<dd>Hace que el sistema libere los recursos asignados al <em>socket</em>. En el caso
de conexiones TCP, ésta es finalizada.</dd>
<dt><code>getaddrinfo()</code> y <code>getnameinfo()</code></dt>
<dd>Se usan para resolver nombres de máquina y direcciones IP (<a href="http://es.wikipedia.org/wiki/Domain_Name_System" title="DNS - Domain Name System">DNS</a>).</dd>
<dt><code>select()</code></dt>
<dd>Se usa para esperar a que uno o más <em>sockets</em> de una lista estén listos
para leer, escribir o tengan algún error.</dd>
<dt><code>poll()</code></dt>
<dd>Se usa para comprobar el estado de un <em>socket</em> en un conjunto de <em>sockets</em>.
Puede comprobar si están listos para escribir, leer o si ha ocurrido algún error.</dd>
<dt><code>getsockopt()</code></dt>
<dd>Se usa para recuperar el valor actual de una opción concreta de configuración
del <em>socket</em> especificado.</dd>
<dt><code>setsockopt()</code></dt>
<dd>Se usa para cambiar el actual de una opción concreta de configuración del
<em>socket</em> especificado.</dd>
</dl>
<h2>POSIX API en Boost.Asio</h2>
<p><a href="http://www.boost.org/libs/asio/" title="Boost.Asio">Boost.Asio</a> es una librería de C++ para programadores de software de sistema
donde el acceso a funcionalidades del sistema operativo; como la red, los archivos,
un puerto serie, etc.; se requiere con cierta frecuencia. El acceso a estos recursos
suele implicar operaciones de E/S que normalmente consumen mucho tiempo antes
de completarse, por lo que <a href="http://www.boost.org/libs/asio/" title="Boost.Asio">Boost.Asio</a> provee de herramientas para gestionar
estas conexiones de manera asíncrona, sin necesitar modelos de concurrencia
basados en hilos o en múltiples procesos y memoria compartida.</p>
<p>Debido a que uno de los usos principales de esta librería son las comunicaciones
por red, <a href="http://www.boost.org/libs/asio/" title="Boost.Asio">Boost.Asio</a> incluye una interfaz multiplataforma de <em>sockets</em> de bajo nivel,
basada en el API <em>BSD sockets</em>, e implementada sobre la que proporciona el propio
sistema operativo.</p>
<p>A diferencia de esta última, la implementación proporcionada por <a href="http://www.boost.org/libs/asio/" title="Boost.Asio">Boost.Asio</a> no incluye
algunos aspectos del API original que no son seguros o que son propensos a provocar
errores de programación. Por ejemplo, el uso de <code>int</code> para identificar a los <em>sockets</em>
por parte del API <em>BSD sockets</em> carece de la seguridad que nos ofrecería tener un
tipo específico para ellos. Por eso la representación de un <em>socket</em> en <a href="http://www.boost.org/libs/asio/" title="Boost.Asio">Boost.Asio</a> usa
un tipo distinto para cada protocolo. Es decir, para TCP el tipo de un socket es
<code>ip::tcp::socket</code> mientras para UDP el tipo es <code>ip::udp::socket</code>.</p>
<p>En la documentación de <a href="http://www.boost.org/libs/asio/" title="Boost.Asio">Boost.Asio</a> se incluye una <a href="http://www.boost.org/doc/html/boost_asio/overview/networking/bsd_sockets.html">tabla</a>
que muestra la relación entre el API <em>BSD socket</em> y el API de acceso a red de <a href="http://www.boost.org/libs/asio/" title="Boost.Asio">Boost.Asio</a>:</p>
<h2>Referencias</h2>
<ol>
<li>Wikipedia - <a href="http://en.wikipedia.org/wiki/Berkeley_sockets">Berkeley sockets</a>.</li>
<li><a href="http://msdn.microsoft.com/es-es/library/windows/desktop/ms740673(v=vs.85).aspx">Wnsock - Windows Sockets API</a>.</li>
<li><a href="http://tangentsoft.net/wskfaq/articles/bsd-compatibility.html">Winsock Programmer's FAQ - BSD Sockets Compatibility</a>.</li>
<li><a href="http://www.boost.org/libs/asio/" title="Boost.Asio">Boost.Asio</a>.</li>
</ol>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>POSIX son las siglas de Portable Operating System Interface, una familia
de estándares especificados por el <a href="http://www.ieee.org/">IEEE</a> para mantener
la compatibilidad entre sistemas operativos. POSIX define un API, tomando del
de los sistemas UNIX, para asegurar la compatibilidad entre las distintas
variantes de UNIX y otros sistemas operativos.&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div></div>
	
        <hr>
    	   
        <h2>Comentarios</h2>
		<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'sistema-de-videovigilancia-from-scratch'; 

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
        </div>
        
        <div class="span3">

            
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Sitio
                </li>
            
                <li><a href="./archives.html">Archivos</a>
                <li><a href="./tags.html">Etiquetas</a>
                <li><a href="http://ull-etsii-sistemas-operativos.github.io/videovigilancia-blog/feeds/atom.xml" rel="alternate">Fuente Atom</a></li>
                                <li><a href="http://ull-etsii-sistemas-operativos.github.io/videovigilancia-blog/feeds/rss.xml" rel="alternate">Fuente RSS</a></li>
                            </ul>
            </div>


                        <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categorias
                </li>
                
                                <li><a href="./category/comunicaciones.html">Comunicaciones</a></li>
                                <li><a href="./category/desarrollo.html">Desarrollo</a></li>
                                <li><a href="./category/hardware.html">Hardware</a></li>
                                <li><a href="./category/linux.html">Linux</a></li>
                                <li><a href="./category/overviews.html">Overviews</a></li>
                                <li><a href="./category/qt.html">Qt</a></li>
                                <li><a href="./category/vision.html">Visión</a></li>
                                   
            </ul>
            </div>
            

            

                        <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                                <li><a href="http://github.com/ull-etsii-sistemas-operativos/">github</a></li>
                                <li><a href="http://plus.google.com/u/0/communities/112085352199958768374">google+</a></li>
                                <li><a href="http://flattr.com/thing/1171169/Sistema-de-videovigilancia-from-scratch">flattr</a></li>
                                <li><a href="http://ull-etsii-sistemas-operativos.github.io/videovigilancia-blog/feeds/atom.xml">atom</a></li>
                                <li><a href="http://ull-etsii-sistemas-operativos.github.io/videovigilancia-blog/feeds/rss.xml">rss</a></li>
                            </ul>
            </div>
            </div>
            
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
<ul class="nav nav-list">
    <li class="nav-header">
    Búsqueda de Google
    </li>

    <script type="text/javascript">
    (function() {
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.es/cse/cse.js?cx=' + '013894742475483232300:q2-5a1zlira';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
    })();
    </script>
    <gcse:search>Cargando...</gcse:search>
</ul>
</div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.es"><img alt="Licencia Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/80x15.png" /></a><br />Este obra está bajo una <a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.es">Licencia Creative Commons Atribución 3.0 Unported</a>.</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script>
 
</body>
</html>