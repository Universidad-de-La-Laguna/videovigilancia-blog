<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Sistema de Videovigilancia from Scratch</title>
    <meta name="description" content="">
    <meta name="author" content="Jesús Torres">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="../theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="../theme/bootstrap.min.css" rel="stylesheet">
    <link href="../theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="../theme/local.css" rel="stylesheet">
    <link href="../theme/pygments.css" rel="stylesheet">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="..">Sistema de Videovigilancia from Scratch</a>

        <div class="nav-collapse">
        <ul class="nav">
                    
                            <li><a href="../pages/acerca-de.html">Acerca de...</a></li>
                        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
                

        


    <div class='article'>
        <div class="content-title">
            <a href="../yocto-poky-y-bitbake.html"><h1>Yocto, Poky y BitBake</h1></a>
            jue 10 enero 2013

by <a class="url fn" href="../author/jesus-torres.html" rel="author">Jesús Torres</a>
 


 
        </div>
        
        <div><p>El proyecto <a href="https://www.yoctoproject.org/" title="Yocto Project">Yocto</a> proporciona a los desarrolladores de sistemas empotrados
Linux un punto de partida para generar distribuciones personalizadas para
sus productos. Una de las piezas clave del proyecto es el sistema de
construcción <a href="http://www.pokylinux.org/" title="Poky Plataform Builder">Poky</a>, que a su vez se apoya en <a href="http://en.wikipedia.org/wiki/BitBake" title="BitBake">BitBake</a>, una herramienta de
construcción de paquetes al estilo de
<a href="http://es.wikipedia.org/wiki/Portage_(software)">Portage</a> de
<a href="http://www.gentoo.org/">Gentoo</a>.</p>
<h2>El proyecto Yocto</h2>
<p><a href="https://www.yoctoproject.org/" title="Yocto Project">Yocto</a> está financiado por la <a href="http://www.linuxfoundation.org/">Linux Foundation</a>.
Su principal objetivo es desarrollar herramientas que ayuden a los desarrolladores
a crear sus propias distribuciones de Linux, sea cual sea el hardware sobre el que
van a correr. Entre los proyectos desarrollados en el seno de <a href="https://www.yoctoproject.org/" title="Yocto Project">Yocto</a> están:
el sistema de construcción <a href="http://www.pokylinux.org/" title="Poky Plataform Builder">Poky</a>, el sistema de
<a href="http://es.wikipedia.org/wiki/Integraci%C3%B3n_continua">integración continua</a>
<a href="http://autobuilder.yoctoproject.org/">Autobuiler</a> y la librería de sistema
<a href="http://www.eglibc.org/">Embedded GLIBC (EGLIBC)</a>.</p>
<p>Además, cuando se crea una distribución con <a href="https://www.yoctoproject.org/" title="Yocto Project">Yocto</a>, la herramienta de construcción
crea un SDK de desarrollo de aplicaciones adaptado a dicha distribución. Este
SDK puede conectarse al IDE <a href="http://www.eclipse.org/" title="Eclipse IDE">Eclipse</a> o puede usarse desde la línea de comandos.</p>
<h2>El sistema de construcción Poky</h2>
<p>Uno de los componentes centrales de <a href="https://www.yoctoproject.org/" title="Yocto Project">Yocto</a> es el sistema de construcción <a href="http://www.pokylinux.org/" title="Poky Plataform Builder">Poky</a>.
Su responsabilidad fundamental es la construcción de imágenes de sistemas de
archivos de sistemas Linux. Estos pueden incluir diferentes productos de software:
Linux, X11, Matchbox, GTK+, Pimlico, Clutter, D-BUS, etc.</p>
<p>Aunque se pueden generar diferentes tipos de imágenes según el dispositivo donde
va a ser almacenada, el proyecto ejemplo estándar lo hace para el emulador <a href="http://wiki.qemu.org/" title="QEMU">QEMU</a>
y para placas de referencia reales de los fabricantes, para cada una de las
arquitecturas soportadas. Esta habilidad de <a href="http://www.pokylinux.org/" title="Poky Plataform Builder">Poky</a> lo hace especialmente
apropiado como plataforma de pruebas y de desarrollo de software para empotrados.</p>
<p>Un proyecto similar a <a href="http://www.pokylinux.org/" title="Poky Plataform Builder">Poky</a> es <a href="http://www.openembedded.org/" title="OpenEmbedded">OpenEmbedded</a>, que también es un sistema de construcción
para sistemas Linux empotrados. <a href="http://www.pokylinux.org/" title="Poky Plataform Builder">Poky</a> deriva de un proyecto para crear
una rama estabilizada de <a href="http://www.openembedded.org/" title="OpenEmbedded">OpenEmbedded</a>, limitando el software disponible a unos
pocos paquetes, de entre los miles de los que dispone <a href="http://www.openembedded.org/" title="OpenEmbedded">OpenEmbedded</a>, así como el número
de arquitecturas soportadas. Con el tiempo esta rama evolucionó añadiendo
el componente de <a href="http://www.eclipse.org/" title="Eclipse IDE">Eclipse</a> y la generación de imágenes para <a href="http://wiki.qemu.org/" title="QEMU">QEMU</a>, entre otras cosas.
Esto dio origen a <a href="http://www.pokylinux.org/" title="Poky Plataform Builder">Poky</a>.</p>
<p>El núcleo central de <a href="http://www.pokylinux.org/" title="Poky Plataform Builder">Poky</a> es la herramienta de construcción <a href="http://en.wikipedia.org/wiki/BitBake" title="BitBake">BitBake</a> junto
con una colección de archivos de configuración de diversos tipos que definen
todo lo necesario para construir la imagen del sistema Linux.</p>
<h2>La herramienta de construcción BitBake</h2>
<p><a href="http://en.wikipedia.org/wiki/BitBake" title="BitBake">BitBake</a> es básicamente un ejecutor de tareas. Su función es leer los archivos
de configuración que definen el proyecto; establecer que tareas deben ser realizadas
y en que orden, obviamente en función de las dependencias y para maximizar la eficiencia
(por ejemplo primero se intentan ejecutar las que son dependencias comunes a otras tareas)
y finalmente ejecutarlas.</p>
<p>Los tipos de archivos de configuración que maneja <a href="http://en.wikipedia.org/wiki/BitBake" title="BitBake">BitBake</a> son:</p>
<dl>
 <dt>Recetas (.bb)</dt>
 <dd>Contienen información acerca de un componente de software concreto. Entre
 dicha información, por ejemplo, podemos destacar: desde donde descargar los
 parches para las fuentes, que configuraciones deben ser aplicadas antes de
 la compilación, como se compila el componente y como se empaqueta el resultado.</dd>
 <dt>Clases (.bbclass)</dt>
 <dd>Contienen información que es interesante compartir entre distintas recetas.
 Por ejemplo la clase **autotools**, que contiene configuraciones comunes para
 cualquier aplicación que utiliza la herramienta **autotools**.</dd>
 <dt>Configuraciones (.conf)</dt>
 <dd>Define diversas variables de configuración que controlan lo que Poky va
 a hacer. Esto incluye configuraciones específicas de la maquina, opciones de
 configuración de la distribución, ajustes del compilador, configuraciones de
 usuario, etc.</dd>
</dl>

<p><a href="http://en.wikipedia.org/wiki/BitBake" title="BitBake">BitBake</a> puede combinar varios de estos archivos en los se denomina como <strong>capas</strong>.
Una capa es un agrupamiento de recetas que proporciona algún tipo de funcionalidad
adicional. Pueden ser un <a href="http://en.wikipedia.org/wiki/Board_support_package" title="Board Support Package">BSP</a> para un nuevo dispositivo, tipos de imágenes
adicionales o software no incluido en Poky.</p>
<p>Los mismos metadatos principales del proyecto <a href="https://www.yoctoproject.org/" title="Yocto Project">Yocto</a>, <strong>meta-yocto</strong>, son por si
mismos una capa aplicada sobre la capa de metadatos OE-Core que añade software
adicional y tipos de imágenes a esta última.</p>
<p>Un ejemplo de como funciona esto se puede ver al crear un dispositivo <a href="http://es.wikipedia.org/wiki/Network-attached_storage" title="Network-attached storage">NAS</a>
(Network-attached Storage) para la CPU Intel E660
(<a href="http://www.intel.com/p/es_XL/embedded/hwsw/hardware/atom-e6xx/overview">Crown Bay</a>)
usando x32, el nuevo <a href="http://en.wikipedia.org/wiki/Application_binary_interface" title="Application binary interface">ABI</a> nativo de 32 bits para procesadores x86-64:</p>
<ol>
<li>En el nivel más bajo colocaríamos una capa <a href="http://en.wikipedia.org/wiki/Board_support_package" title="Board Support Package">BSP</a> para Crown Bay que activaría
 funcionalidades específicas del hardware de estos procesadores.
 Esta capa, por ejemplo, incluiría los drivers de vídeo.</li>
<li>Como queremos utilizar x32, añadiríamos posteriormente la capa <strong>meta-x32</strong>.</li>
<li>La funcionalidad de <a href="http://es.wikipedia.org/wiki/Network-attached_storage" title="Network-attached storage">NAS</a> se incorporaría añadiendo la capa <strong>meta-bayron</strong>,
 que el mismo proyecto <a href="https://www.yoctoproject.org/" title="Yocto Project">Yocto</a> nos ofrece como ejemplo.</li>
<li>Finalmente incorporaríamos una capa, que imaginariamente llamaremos
 <strong>meta-myproject</strong>, para proveer el software y la configuraciones necesarias
 para crear una interfaz gráfica de usuario de configuración del <a href="http://es.wikipedia.org/wiki/Network-attached_storage" title="Network-attached storage">NAS</a>.</li>
</ol>
<p>Como hemos comentado, cada una de estas capas estaría formada por uno o más
archivos de configuración de los tipos indicados anteriormente.</p>
<h2>Referencias</h2>
<ol>
<li><a href="http://www.aosabook.org/en/yocto.html">The Yocto Proyect</a>.
 <a href="http://www.aosabook.org/">The Architecture of Open Source Applications</a>.</li>
<li><a href="https://wiki.yoctoproject.org/wiki/FAQ">Yocto Proyect FAQ</a>.</li>
<li><a href="http://www.yoctoproject.org/docs/1.0/poky-ref-manual/poky-ref-manual.html">Poky HandBook</a></li>
</ol></div>
        <hr />
    </div>
		
            <div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&larr; Anterior</a></li>

    <li class="active"><a href="../tag/empotrado.html">1</a></li>

    <li class="next disabled"><a href="#">&rarr; Siguiente</a></li>

</ul>
</div>    
 
  
        </div>
        
        <div class="span3">

            
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Sitio
                </li>
            
                <li><a href="../archives.html">Archivos</a>
                <li><a href="../tags.html">Etiquetas</a>
                <li><a href="http://ull-etsii-sistemas-operativos.github.com/videovigilancia-blog/feeds/atom.xml" rel="alternate">Fuente Atom</a></li>
                                <li><a href="http://ull-etsii-sistemas-operativos.github.com/videovigilancia-blog/feeds/rss.xml" rel="alternate">Fuente RSS</a></li>
                            </ul>
            </div>


                        <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categorias
                </li>
                
                                <li><a href="../category/desarrollo.html">Desarrollo</a></li>
                                <li><a href="../category/hardware.html">Hardware</a></li>
                                <li><a href="../category/overviews.html">Overviews</a></li>
                                   
            </ul>
            </div>
            

            

                        <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                                <li><a href="http://github.com/ull-etsii-sistemas-operativos/">github</a></li>
                                <li><a href="http://plus.google.com/u/0/communities/112085352199958768374">google+</a></li>
                                <li><a href="http://ull-etsii-sistemas-operativos.github.com/videovigilancia-blog/feeds/atom.xml">atom</a></li>
                                <li><a href="http://ull-etsii-sistemas-operativos.github.com/videovigilancia-blog/feeds/rss.xml">rss</a></li>
                            </ul>
            </div>
            </div>
            

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
<ul class="nav nav-list">
    <li class="nav-header">
    Búsqueda de Google
    </li>

    <script type="text/javascript">
    (function() {
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.es/cse/cse.js?cx=' + '013894742475483232300:q2-5a1zlira';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
    })();
    </script>
    <gcse:search>Cargando...</gcse:search>
</ul>
</div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.es"><img alt="Licencia Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/80x15.png" /></a><br />Este obra está bajo una <a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.es">Licencia Creative Commons Atribución 3.0 Unported</a>.</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script>
 
</body>
</html>