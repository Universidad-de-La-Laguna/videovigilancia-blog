<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>comunicaciones - Sistema de Videovigilancia from Scratch</title>
    <meta name="description" content="">
    <meta name="author" content="Jesús Torres">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="../theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="../theme/bootstrap.min.css" rel="stylesheet">
    <link href="../theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="../theme/local.css" rel="stylesheet">
    <link href="../theme/pygments.css" rel="stylesheet">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="..">Sistema de Videovigilancia from Scratch</a>

        <div class="nav-collapse">
        <ul class="nav">
                    
                            <li><a href="../pages/acerca-de.html">Acerca de...</a></li>
                    <li><a href="../pages/seminarios.html">Seminarios</a></li>
                        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
                

        


    <div class='article'>
        <div class="content-title">
            <a href="../qt-network.html"><h1>Qt Network</h1></a>
            lun 04 marzo 2013

by <a class="url fn" href="../author/jesus-torres.html" rel="author">Jesús Torres</a>
 


 
        </div>
        
        <div><p><a href="../proyecto-qt-framework-de-desarrollo-de-aplicaciones.html" title="Proyecto Qt">Qt</a> proporciona un conjunto de API de comunicaciones a través del módulo
<a href="http://qt-project.org/doc/qt-5.0/qtnetwork/" title="Qt Network">Qt Network</a>. Este ofrece tanto clases de bajo nivel para comunicación
mediante protocolos de transporte, como TCP y UDP, como clases de alto nivel que
implementan operaciones usando los protocolos de nivel de aplicación más
communes, como HTTP o FTP.</p>
<p><a href="../proyecto-qt-framework-de-desarrollo-de-aplicaciones.html" title="Proyecto Qt">Qt</a> incorpora este módulo por dos motivos fundamentales:</p>
<ol>
<li>
<p>Aunque la mayor parte de los sistemas operativos modernos proporcionan un
 API de acceso a red basado en <a href="../bsd-sockets.html">BSD sockets</a>,
 algunos introducen funcionalidades adicionales para adaptarlo al modelo
 de programación preferente en el sistema en cuestión. Este, por ejemplo,
 es el caso de Windows y la librería <a href="../bsd-sockets.html">Winsock</a>
 que incorpora. Por tanto <a href="../proyecto-qt-framework-de-desarrollo-de-aplicaciones.html" title="Proyecto Qt">Qt</a>, gracias a su módulo <a href="http://qt-project.org/doc/qt-5.0/qtnetwork/" title="Qt Network">Qt Network</a>, nos
 proporciona una forma portable de acceder a los servicios de red de los
 sistemas operativos soportados sin tener que preocuparnos por las
 particularidades de cada uno.</p>
</li>
<li>
<p>Las operaciones de red suelen requerir mucho tiempo antes de completarse,
 por lo que usarlas en un <em>slot</em> del hilo principal implica el bloqueo del bucle
 de mensajes de la aplicación. Por fortuna el API <a href="../bsd-sockets.html">BSD sockets</a>
 permite tanto el uso síncrono como asíncrono de la interfaz. Esta última
 forma de utilizarla evita el bloqueo del bucle de mensajes al impedir que las
 llamadas a la interfaz se bloqueen hasta que las operaciones de red son
 completadas. Sin embargo implican una forma de programar mucho más compleja
 para el desarrollador.</p>
<p>El API de bajo nivel de <a href="http://qt-project.org/doc/qt-5.0/qtnetwork/" title="Qt Network">Qt Network</a> es asíncrono por diseño,
 ocultando toda esa complejidad detrás del bucle de mensajes y del mecanismo
 de señales y <em>slots</em> común a todo el <em>framework</em> <a href="../proyecto-qt-framework-de-desarrollo-de-aplicaciones.html" title="Proyecto Qt">Qt</a>. Aunque el API de bajo
 nivel ofrece métodos para comunicación síncrona (los métodos <code>waitFor*</code>),
 en cuyo caso no necesitamos bucle de mensajes, su uso no está recomendado
 si no es en un hilo diferente al hilo principal. Además las clases del API
 de alto nivel no ofrecen métodos síncronos, por lo que si se usan es
 obligatorio disponer de un bucle de mensajes.</p>
<p>Debemos tener en cuenta que las API del módulo <a href="http://qt-project.org/doc/qt-5.0/qtnetwork/" title="Qt Network">Qt Network</a> se pueden usar
 desde hilos diferentes al hilo principal ya que cada hilo gestionado por la
 clase <a href="../hilos-de-trabajo-usando-senales-y-slots.html">QThread</a>
 tiene su propio bucle de mensajes, que se inicia automáticamente en el método
 <code>QThread::run()</code> por defecto.</p>
</li>
</ol>
<h2>Funcionalidad</h2>
<p>El módulo <a href="http://qt-project.org/doc/qt-5.0/qtnetwork/" title="Qt Network">Qt Network</a> ofrece las siguientes interfaces:</p>
<dl>
<dt><code>QNetworkRequest</code>, <code>QNetworkReply</code> y <code>QNetworkAccessManager</code></dt>
<dd>Es una colección de clases que proporcionan una abstracción de alto nivel
sobre operaciones y protocolos de comunicación comunes, por ejemplo HTTP y FTP.
Cada instancia de la clase <code>QNetworkRequest</code> representa una petición u operación
contra un servicio en red, mientras que las instancias de la clase
<code>QNetworkReply</code> representan la respuesta a esas peticiones. La coordinación
de toda esta actividad es responsabilidad de <code>QNetworkAccessManager</code>, que
se encarga de entregar a la red las peticiones una vez han sido creadas y de
emitir señales con la respuesta a las mismas cuando son recibidas. También
coordina el uso de <em>cookies</em>, peticiones de autenticación y el uso de
servidores <em>proxy</em>.</dd>
<dt><code>QTcpSocket</code> y <code>QTcpServer</code></dt>
<dd>TCP es el protocolo de comunicación utilizado por diversos protocolos de
Internet, como HTTP o FTP. <code>QTcpSocket</code> proporciona acceso de bajo nivel a
dicho protocolo. Permite establecer una conexión con una dirección IP y puerto
determinados, así como enviar y recibir datos. Estas operaciones son
asíncronas, por lo que no bloquean la ejecución del hilo, siendo la clase la
que notifica mediante señales tanto las condiciones de error como de cuándo
se dispone de nuevos datos para leer. Si lo que se desea es crear una
aplicación que reciba conexiones TCP entrantes (como un servidor), lo
conveniente es utilizar la clase <code>QTcpServer</code>. Ésta nos permite escuchar en
una dirección IP y puerto concretos y aceptar las conexiones entrantes por parte
de los clientes. Cada vez que se acepta el intento de conexión de un cliente,
se obtiene una instancia de la clase <code>QTcpSocket</code> con la que podemos
comunicarnos con él.</dd>
<dt><code>QUdpSocket</code></dt>
<dd>UDP es un protocolo de comunicación que también es utilizado por diversos
protocolos de Internet. <code>QUdpSocket</code> proporciona acceso de bajo nivel a
dicho protocolo. Permite enviar y recibir paquetes de datos a una dirección IP
y puerto concretos, ya que a diferencia de TCP, UDP no provee un flujo continuo
de datos sino que opera mediante el envío de paquetes. Tampoco se provee una
clase específica para escuchar por conexiones entrantes (al estilo de
<code>QTcpServer</code>), ya que UDP no es un protocolo orientado a conexión. La interfaz
de <code>QUdpSocket</code> simplemente permite preparar el <em>socket</em> para aceptar la
recepción de paquetes.</dd>
<dt><code>QLocalSocket</code> y <code>QLocalServer</code></dt>
<dd>Proporcionan una abstracción similar a la de <code>QTcpSocket</code> y <code>QTcpServer</code> pero
para <em>sockets</em> locales. En Windows se implementa haciendo uso de tuberías con
nombre, mientras que en UNIX, Linux y otro sistemas POSIX se utilizan
<a href="http://es.wikipedia.org/wiki/Socket_Unix">sockets de dominio UNIX</a>.</dd>
<dt><code>QHostInfo</code></dt>
<dd>Se utiliza para obtener la dirección IP asignada a un nombre de máquina
concreto a través del servicio DNS (Domain Name Service). Tanto la clase
<code>QTcpSocket</code> como <code>QUdpSocket</code> hacen esto automáticamente cuando se indica
un nombre de máquina y no una dirección IP. Sin embargo la clase <code>QHostInfo</code>
nos permite hacerlo manualmente, si por cualquier motivo fuera necesario.</dd>
<dt><code>QNetworkProxy</code></dt>
<dd>Cada instancia de <code>QNetworkProxy</code> se usa para describir y configurar la
conexión a un servidor <em>proxy</em>, que pueden dirigir o filtrar el tráfico
entre ambos extremos de una conexión. Un servidor <em>proxy</em> puede ser activado
para un socket concreto, a través del método <code>QAbstractSocket::setProxy()</code>,
antes de conectarlo, o a nivel de toda la aplicación a través
de la función <code>QNetworkProxy::setApplicationProxy()</code>.</dd>
<dt><code>QNetworkConfigurationManager</code> y <code>QNetworkConfiguration</code></dt>
<dd>Estas clases constituyen la interfaz del gestor de portabilidad, que controla
el estado de conectividad del dispositivo, permitiendo iniciar y detener las
interfaces de red así como migrar transparentemente entre puntos de acceso.
La clase <code>QNetworkConfigurationManager</code> gestiona la lista de configuraciones
de red conocidas por el dispositivo. Una configuración de red describe el
conjunto de parámetros usados al iniciar la interfaz de red y es representada
por instancias de la clase <code>QNetworkConfiguration</code>.</dd>
</dl>
<h2>Utilizar Qt Network</h2>
<p>Para incorpora el módulo en nuestra aplicación, sólo tenemos que incluir la
declaración de sus clases añadiendo la siguiente directiva en aquellos
archivos donde las vayamos a utilizar:</p>
<div class="codehilite"><pre><span class="c">#include &lt;QtNetwork&gt;</span>
</pre></div>


<p>Para enlazar el módulo con el ejecutable de la aplicación, sólo hay que añadir
la siguiente línea al archivo <code>.pro</code> del proyecto:</p>
<div class="codehilite"><pre><span class="n">QT</span> <span class="o">+=</span> <span class="n">network</span>
</pre></div>


<p>Hecho esto, la mejor forma de aprender a utilizar los recursos del módulo
<a href="http://qt-project.org/doc/qt-5.0/qtnetwork/" title="Qt Network">Qt Network</a> es siguiendo los ejemplos disponibles en su documentación:</p>
<ul>
<li>
<p>Ejemplos de <a href="http://qt-project.org/doc/qt-5.0/qtnetwork/qtcpsocket.html" title="QTcpSocket">QTcpSocket</a> y <a href="http://qt-project.org/doc/qt-5.0/qtnetwork/qtcpserver.html" title="QTcpServer">QTcpServer</a>:</p>
<ul>
<li><a href="http://qt-project.org/doc/qt-5.0/qtnetwork/fortuneclient.html">Fortune Client</a>
y <a href="http://qt-project.org/doc/qt-5.0/qtnetwork/fortuneserver.html">Fortune Server</a>
muestran como desarrollar una aplicación cliente-servidor sobre TCP.</li>
<li><a href="http://qt-project.org/doc/qt-5.0/qtnetwork/blockingfortuneclient.html">Blocking Fortune Client</a>
muestra como usar la interfaz síncrona de <a href="http://qt-project.org/doc/qt-5.0/qtnetwork/qtcpsocket.html" title="QTcpSocket">QTcpSocket</a>.</li>
<li><a href="http://qt-project.org/doc/qt-5.0/qtnetwork/threadedfortuneserver.html">Threaded Fortune Server</a>
muestra como desarrollar un servidor multihilo donde cada hilo sirve a un
cliente.</li>
</ul>
</li>
<li>
<p>Ejemplos de <a href="http://qt-project.org/doc/qt-5.0/qtnetwork/qudpsocket.html" title="QUdpSocket">QUdpSocket</a>:</p>
<ul>
<li><a href="http://qt-project.org/doc/qt-5.0/qtnetwork/broadcastsender.html">Broadcast Sender</a>
y <a href="http://qt-project.org/doc/qt-5.0/qtnetwork/broadcastreceiver.html">Broadcast Receiver</a>
muestran como desarrollar un emisor y un receptor sobre UDP.</li>
<li><a href="http://qt-project.org/doc/qt-5.0/qtnetwork/multicastsender.html">Multicast Sender</a>
y <a href="http://qt-project.org/doc/qt-5.0/qtnetwork/multicastreceiver.html">Multicast Receiver</a>
muestran como desarrollar aplicaciones que hagan uso de la
<a href="http://es.wikipedia.org/wiki/Multidifusi%C3%B3n">multidifusión</a> (o <em>multicast</em>).</li>
</ul>
</li>
</ul>
<h2>Referencias</h2>
<ol>
<li><a href="http://qt-project.org/doc/qt-5.0/qtnetwork/" title="Qt Network">Qt Network</a></li>
</ol></div>
        <hr />
    </div>
		
    
 
        

 

    <div class='article'>
        <a href="../bsd-sockets.html"><h2>BSD sockets</h2></a>
        <div class= "well small"> sáb 02 marzo 2013

by <a class="url fn" href="../author/jesus-torres.html" rel="author">Jesús Torres</a>
 


 </div>
        <div class="summary"><p><em>POSIX sockets</em> es una parte de la especificación POSIX<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup> que define un API
(Application Programming Interface) para la comunicación entre procesos,
fundamentalmente entre equipos conectados a través de Internet
(<em>socket</em> de Internet), aunque también soporta la conexión local entre procesos
que se ejecutan en el mismo sistema (<a href="http://es.wikipedia.org/wiki/Socket_Unix">socket de ...</a></p> <a class="btn btn-info xsmall" href="../bsd-sockets.html">leer más</a></div>
    </div>	
				
            <div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&larr; Anterior</a></li>

    <li class="active"><a href="../tag/comunicaciones.html">1</a></li>

    <li class="next disabled"><a href="#">&rarr; Siguiente</a></li>

</ul>
</div>    
 
  
        </div>
        
        <div class="span3">

            
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Sitio
                </li>
            
                <li><a href="../archives.html">Archivos</a>
                <li><a href="../tags.html">Etiquetas</a>
                <li><a href="http://ull-etsii-sistemas-operativos.github.io/videovigilancia-blog/feeds/atom.xml" rel="alternate">Fuente Atom</a></li>
                                <li><a href="http://ull-etsii-sistemas-operativos.github.io/videovigilancia-blog/feeds/rss.xml" rel="alternate">Fuente RSS</a></li>
                            </ul>
            </div>


                        <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categorias
                </li>
                
                                <li><a href="../category/comunicaciones.html">Comunicaciones</a></li>
                                <li><a href="../category/hardware.html">Hardware</a></li>
                                <li><a href="../category/linux.html">Linux</a></li>
                                <li><a href="../category/overviews.html">Overviews</a></li>
                                <li><a href="../category/qt.html">Qt</a></li>
                                <li><a href="../category/vision.html">Visión</a></li>
                                   
            </ul>
            </div>
            

            

                        <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                                <li><a href="http://github.com/ull-etsii-sistemas-operativos/">github</a></li>
                                <li><a href="http://plus.google.com/u/0/communities/112085352199958768374">google+</a></li>
                                <li><a href="http://flattr.com/thing/1171169/Sistema-de-videovigilancia-from-scratch">flattr</a></li>
                                <li><a href="http://ull-etsii-sistemas-operativos.github.io/videovigilancia-blog/feeds/atom.xml">atom</a></li>
                                <li><a href="http://ull-etsii-sistemas-operativos.github.io/videovigilancia-blog/feeds/rss.xml">rss</a></li>
                            </ul>
            </div>
            </div>
            
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
<ul class="nav nav-list">
    <li class="nav-header">
    Búsqueda de Google
    </li>

    <script type="text/javascript">
    (function() {
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.es/cse/cse.js?cx=' + '013894742475483232300:q2-5a1zlira';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
    })();
    </script>
    <gcse:search>Cargando...</gcse:search>
</ul>
</div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.es"><img alt="Licencia Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/80x15.png" /></a><br />Este obra está bajo una <a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.es">Licencia Creative Commons Atribución 3.0 Unported</a>.</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script>
 
</body>
</html>